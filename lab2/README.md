# Техническая документация
## Приложение для анализа графических файлов

### 1. Архитектура приложения

#### 1.1 Общее описание
Приложение разработано на платформе WPF (.NET) с использованием паттерна MVVM. Основной функционал включает анализ графических файлов и отображение их характеристик в табличном виде.

#### 1.2 Основные компоненты
- **MainWindow**: Главное окно приложения
- **ImageInfo**: Класс для хранения информации об изображении
- **FileInfoList**: ObservableCollection для хранения списка файлов

### 2. Технологии и библиотеки

#### 2.1 Основные технологии
- WPF (Windows Presentation Foundation)
- .NET Framework
- XAML для пользовательского интерфейса

#### 2.2 Внешние библиотеки
- **ImageMagick**: Для извлечения информации из изображений
- **System.Windows.Forms**: Для диалога выбора папки
- **Microsoft.Win32**: Для диалога выбора файлов

### 3. Структура кода

#### 3.1 Основные классы

```csharp
public class ImageInfo
{
    public string Name { get; set; }
    public string Size { get; set; }
    public string Resolution { get; set; }
    public uint ColorDepth { get; set; }
    public string Compression { get; set; }
}
```

#### 3.2 Ключевые методы

##### GetImageInfo
```csharp
private void GetImageInfo(string filePath)
{
    // Получение информации об изображении
    MagickImage image = new MagickImage(filePath);
    // Обработка и сохранение данных
}
```

### 4. Обработка форматов файлов

#### 4.1 Поддерживаемые форматы
- JPEG: Полная поддержка с извлечением информации о сжатии
- PNG: Извлечение информации о прозрачности и цветовой модели
- GIF: Поддержка анимации и информации о палитре
- TIFF: Многостраничная поддержка
- BMP: Базовая информация о изображении
- PCX: Базовая поддержка формата

#### 4.2 Алгоритм обработки
1. Проверка существования файла
2. Открытие файла через ImageMagick
3. Извлечение метаданных
4. Обработка специфичных для формата данных
5. Сохранение информации в объекте ImageInfo

### 5. Пользовательский интерфейс

#### 5.1 XAML-разметка
```xaml
<Grid Margin="0,10,0,0">
    <Button Content="Choose files" ... />
    <DataGrid x:Name="dataGrid1" ... />
    <Button x:Name="button2" Content="Choose folder" ... />
</Grid>
```

#### 5.2 Привязка данных
- Использование ObservableCollection для автоматического обновления UI
- Двусторонняя привязка для элементов управления
- Обработка событий пользовательского интерфейса

### 6. Оптимизация производительности

#### 6.1 Методы оптимизации
- Асинхронная загрузка файлов
- Эффективное управление памятью
- Кэширование данных для часто используемых файлов

#### 6.2 Рекомендации по производительности
- Использование буферизации при обработке больших папок
- Освобождение ресурсов после обработки файлов
- Оптимизация запросов к файловой системе

### 7. Обработка ошибок

#### 7.1 Типы обрабатываемых ошибок
- Ошибки доступа к файлам
- Некорректные форматы файлов
- Ошибки чтения метаданных
- Проблемы с памятью


### 8. Тестирование

#### 8.1 Модульные тесты
- Тестирование обработки различных форматов
- Проверка корректности извлечения метаданных
- Тестирование пользовательского интерфейса

#### 8.2 Нагрузочное тестирование
- Тестирование на больших наборах данных (до 100000 файлов)
- Проверка потребления памяти
- Оценка времени обработки

### 9. Развертывание

#### 9.1 Требования к системе
- Windows OS
- .NET Framework последней версии
- Установленные зависимости

#### 9.2 Процесс установки
1. Компиляция проекта
2. Создание установочного пакета
3. Развертывание на целевой системе

